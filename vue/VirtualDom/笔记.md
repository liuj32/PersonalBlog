# Virtual-Dom

1. 为什么需要 Virtual Dom？


2. diff过程
1 2 3 4 5
1 2 5 4

* 判断属性的更改

* 判断列表(子元素)差异
// 遍历旧的，移除被删除的节点
[1, 2, null, 4, 5]
[1, 2, 4, 5]
// 遍历新的，添加新节点、移动位置不同的节点
[1, 2, 5, 4]

* 遍历子元素打标识
得到pathchs

* 渲染差异
patch(node, patchs)

3. vue2 diff --双端比较
理想情况：
a   b   c   d
d   b   a   c
////////////////////////////////////////
a-d
d-c
a-c
d-d
// 移动、添加、删除节点
非理想情况：
<!-- a b c d
b a d c -->

4. vue3 diff --最长递增子序列
Hello World
Hey World
||
text1: 'llo'
text2: 'y'
// 移动、添加、删除节点